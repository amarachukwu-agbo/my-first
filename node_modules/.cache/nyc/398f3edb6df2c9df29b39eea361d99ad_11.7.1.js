var cov_160xkzeq3c=function(){var path='/Users/andeladeveloper/Documents/Projects/thorin-cfh/config/socket/game.js',hash='ed1ee0673f729fd580b2257ca8a623f2abb4aa4a',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/andeladeveloper/Documents/Projects/thorin-cfh/config/socket/game.js',statementMap:{'0':{start:{line:1,column:12},end:{line:1,column:28}},'1':{start:{line:2,column:8},end:{line:2,column:29}},'2':{start:{line:3,column:16},end:{line:3,column:74}},'3':{start:{line:4,column:14},end:{line:4,column:70}},'4':{start:{line:5,column:17},end:{line:18,column:1}},'5':{start:{line:21,column:2},end:{line:21,column:15}},'6':{start:{line:22,column:2},end:{line:22,column:23}},'7':{start:{line:23,column:2},end:{line:23,column:20}},'8':{start:{line:24,column:2},end:{line:24,column:18}},'9':{start:{line:25,column:2},end:{line:25,column:24}},'10':{start:{line:26,column:2},end:{line:26,column:23}},'11':{start:{line:27,column:2},end:{line:27,column:32}},'12':{start:{line:28,column:2},end:{line:28,column:17}},'13':{start:{line:29,column:2},end:{line:29,column:26}},'14':{start:{line:30,column:2},end:{line:30,column:26}},'15':{start:{line:31,column:2},end:{line:31,column:22}},'16':{start:{line:32,column:2},end:{line:32,column:34}},'17':{start:{line:33,column:2},end:{line:33,column:17}},'18':{start:{line:34,column:2},end:{line:34,column:24}},'19':{start:{line:35,column:2},end:{line:35,column:22}},'20':{start:{line:36,column:2},end:{line:36,column:26}},'21':{start:{line:37,column:2},end:{line:41,column:4}},'22':{start:{line:45,column:2},end:{line:45,column:27}},'23':{start:{line:49,column:2},end:{line:49,column:26}},'24':{start:{line:50,column:2},end:{line:50,column:26}},'25':{start:{line:51,column:2},end:{line:51,column:39}},'26':{start:{line:54,column:0},end:{line:81,column:2}},'27':{start:{line:55,column:16},end:{line:55,column:18}},'28':{start:{line:56,column:2},end:{line:66,column:5}},'29':{start:{line:57,column:4},end:{line:65,column:7}},'30':{start:{line:67,column:2},end:{line:80,column:4}},'31':{start:{line:83,column:0},end:{line:85,column:2}},'32':{start:{line:84,column:2},end:{line:84,column:76}},'33':{start:{line:89,column:0},end:{line:93,column:2}},'34':{start:{line:90,column:2},end:{line:92,column:5}},'35':{start:{line:91,column:4},end:{line:91,column:25}},'36':{start:{line:95,column:0},end:{line:106,column:2}},'37':{start:{line:96,column:13},end:{line:96,column:17}},'38':{start:{line:97,column:2},end:{line:105,column:5}},'39':{start:{line:98,column:4},end:{line:104,column:5}},'40':{start:{line:99,column:22},end:{line:99,column:72}},'41':{start:{line:100,column:6},end:{line:100,column:64}},'42':{start:{line:101,column:6},end:{line:103,column:7}},'43':{start:{line:102,column:8},end:{line:102,column:45}},'44':{start:{line:108,column:0},end:{line:133,column:2}},'45':{start:{line:109,column:2},end:{line:109,column:34}},'46':{start:{line:111,column:2},end:{line:117,column:7}},'47':{start:{line:119,column:13},end:{line:119,column:17}},'48':{start:{line:120,column:2},end:{line:132,column:7}},'49':{start:{line:125,column:6},end:{line:127,column:7}},'50':{start:{line:126,column:8},end:{line:126,column:25}},'51':{start:{line:128,column:6},end:{line:128,column:34}},'52':{start:{line:129,column:6},end:{line:129,column:32}},'53':{start:{line:131,column:6},end:{line:131,column:23}},'54':{start:{line:135,column:0},end:{line:140,column:2}},'55':{start:{line:136,column:2},end:{line:136,column:38}},'56':{start:{line:137,column:2},end:{line:137,column:36}},'57':{start:{line:138,column:2},end:{line:138,column:34}},'58':{start:{line:139,column:2},end:{line:139,column:27}},'59':{start:{line:142,column:0},end:{line:144,column:2}},'60':{start:{line:143,column:2},end:{line:143,column:69}},'61':{start:{line:146,column:0},end:{line:172,column:2}},'62':{start:{line:147,column:2},end:{line:147,column:45}},'63':{start:{line:149,column:2},end:{line:149,column:18}},'64':{start:{line:150,column:2},end:{line:150,column:24}},'65':{start:{line:151,column:2},end:{line:151,column:30}},'66':{start:{line:152,column:2},end:{line:152,column:32}},'67':{start:{line:153,column:2},end:{line:153,column:42}},'68':{start:{line:154,column:2},end:{line:158,column:3}},'69':{start:{line:155,column:4},end:{line:157,column:7}},'70':{start:{line:156,column:6},end:{line:156,column:28}},'71':{start:{line:159,column:2},end:{line:159,column:15}},'72':{start:{line:160,column:2},end:{line:160,column:21}},'73':{start:{line:162,column:2},end:{line:166,column:3}},'74':{start:{line:163,column:4},end:{line:163,column:18}},'75':{start:{line:165,column:4},end:{line:165,column:16}},'76':{start:{line:167,column:2},end:{line:167,column:20}},'77':{start:{line:169,column:2},end:{line:171,column:41}},'78':{start:{line:170,column:4},end:{line:170,column:28}},'79':{start:{line:174,column:0},end:{line:186,column:2}},'80':{start:{line:175,column:2},end:{line:185,column:3}},'81':{start:{line:176,column:4},end:{line:176,column:25}},'82':{start:{line:177,column:22},end:{line:177,column:73}},'83':{start:{line:178,column:4},end:{line:178,column:41}},'84':{start:{line:179,column:4},end:{line:179,column:39}},'85':{start:{line:180,column:4},end:{line:180,column:33}},'86':{start:{line:181,column:4},end:{line:181,column:28}},'87':{start:{line:184,column:4},end:{line:184,column:29}},'88':{start:{line:188,column:0},end:{line:202,column:2}},'89':{start:{line:189,column:2},end:{line:189,column:44}},'90':{start:{line:192,column:2},end:{line:201,column:3}},'91':{start:{line:194,column:4},end:{line:194,column:23}},'92':{start:{line:196,column:4},end:{line:196,column:22}},'93':{start:{line:197,column:4},end:{line:200,column:42}},'94':{start:{line:199,column:6},end:{line:199,column:25}},'95':{start:{line:204,column:0},end:{line:222,column:2}},'96':{start:{line:205,column:2},end:{line:205,column:40}},'97':{start:{line:206,column:2},end:{line:206,column:26}},'98':{start:{line:208,column:15},end:{line:208,column:17}},'99':{start:{line:209,column:2},end:{line:213,column:3}},'100':{start:{line:210,column:4},end:{line:212,column:5}},'101':{start:{line:211,column:6},end:{line:211,column:17}},'102':{start:{line:214,column:2},end:{line:214,column:20}},'103':{start:{line:215,column:2},end:{line:221,column:40}},'104':{start:{line:216,column:4},end:{line:220,column:5}},'105':{start:{line:217,column:6},end:{line:217,column:32}},'106':{start:{line:219,column:6},end:{line:219,column:31}},'107':{start:{line:224,column:0},end:{line:228,column:2}},'108':{start:{line:225,column:2},end:{line:225,column:28}},'109':{start:{line:226,column:2},end:{line:226,column:27}},'110':{start:{line:227,column:2},end:{line:227,column:20}},'111':{start:{line:230,column:0},end:{line:233,column:2}},'112':{start:{line:231,column:2},end:{line:231,column:32}},'113':{start:{line:232,column:2},end:{line:232,column:20}},'114':{start:{line:235,column:0},end:{line:239,column:2}},'115':{start:{line:236,column:2},end:{line:238,column:5}},'116':{start:{line:237,column:4},end:{line:237,column:18}},'117':{start:{line:241,column:0},end:{line:245,column:2}},'118':{start:{line:242,column:2},end:{line:244,column:5}},'119':{start:{line:243,column:4},end:{line:243,column:18}},'120':{start:{line:247,column:0},end:{line:260,column:2}},'121':{start:{line:248,column:21},end:{line:248,column:33}},'122':{start:{line:252,column:2},end:{line:257,column:3}},'123':{start:{line:253,column:4},end:{line:253,column:57}},'124':{start:{line:254,column:4},end:{line:254,column:26}},'125':{start:{line:255,column:4},end:{line:255,column:41}},'126':{start:{line:256,column:4},end:{line:256,column:31}},'127':{start:{line:259,column:2},end:{line:259,column:15}},'128':{start:{line:262,column:0},end:{line:275,column:2}},'129':{start:{line:263,column:2},end:{line:263,column:32}},'130':{start:{line:264,column:21},end:{line:266,column:3}},'131':{start:{line:265,column:4},end:{line:265,column:24}},'132':{start:{line:267,column:2},end:{line:274,column:3}},'133':{start:{line:268,column:4},end:{line:273,column:5}},'134':{start:{line:269,column:6},end:{line:269,column:52}},'135':{start:{line:270,column:6},end:{line:272,column:7}},'136':{start:{line:271,column:8},end:{line:271,column:38}},'137':{start:{line:277,column:0},end:{line:285,column:2}},'138':{start:{line:278,column:20},end:{line:278,column:22}},'139':{start:{line:279,column:2},end:{line:283,column:5}},'140':{start:{line:280,column:4},end:{line:282,column:5}},'141':{start:{line:281,column:6},end:{line:281,column:26}},'142':{start:{line:284,column:2},end:{line:284,column:21}},'143':{start:{line:287,column:0},end:{line:335,column:2}},'144':{start:{line:289,column:2},end:{line:334,column:3}},'145':{start:{line:291,column:22},end:{line:291,column:63}},'146':{start:{line:292,column:4},end:{line:292,column:50}},'147':{start:{line:293,column:4},end:{line:331,column:5}},'148':{start:{line:295,column:32},end:{line:295,column:37}},'149':{start:{line:296,column:6},end:{line:300,column:9}},'150':{start:{line:297,column:8},end:{line:299,column:9}},'151':{start:{line:298,column:10},end:{line:298,column:37}},'152':{start:{line:301,column:6},end:{line:330,column:7}},'153':{start:{line:303,column:24},end:{line:303,column:26}},'154':{start:{line:304,column:8},end:{line:316,column:9}},'155':{start:{line:305,column:26},end:{line:305,column:30}},'156':{start:{line:306,column:10},end:{line:310,column:11}},'157':{start:{line:307,column:12},end:{line:309,column:13}},'158':{start:{line:308,column:14},end:{line:308,column:28}},'159':{start:{line:311,column:10},end:{line:311,column:56}},'160':{start:{line:312,column:10},end:{line:314,column:11}},'161':{start:{line:313,column:12},end:{line:313,column:82}},'162':{start:{line:315,column:10},end:{line:315,column:65}},'163':{start:{line:317,column:8},end:{line:322,column:9}},'164':{start:{line:318,column:10},end:{line:321,column:13}},'165':{start:{line:323,column:8},end:{line:323,column:53}},'166':{start:{line:324,column:8},end:{line:329,column:9}},'167':{start:{line:325,column:10},end:{line:325,column:45}},'168':{start:{line:326,column:10},end:{line:326,column:34}},'169':{start:{line:328,column:10},end:{line:328,column:28}},'170':{start:{line:333,column:4},end:{line:333,column:70}},'171':{start:{line:337,column:0},end:{line:344,column:2}},'172':{start:{line:338,column:20},end:{line:338,column:61}},'173':{start:{line:339,column:2},end:{line:343,column:3}},'174':{start:{line:340,column:4},end:{line:340,column:37}},'175':{start:{line:342,column:4},end:{line:342,column:14}},'176':{start:{line:346,column:0},end:{line:390,column:2}},'177':{start:{line:347,column:20},end:{line:347,column:61}},'178':{start:{line:349,column:2},end:{line:389,column:3}},'179':{start:{line:351,column:21},end:{line:351,column:55}},'180':{start:{line:354,column:4},end:{line:358,column:5}},'181':{start:{line:355,column:6},end:{line:357,column:7}},'182':{start:{line:356,column:8},end:{line:356,column:31}},'183':{start:{line:361,column:4},end:{line:361,column:39}},'184':{start:{line:363,column:4},end:{line:365,column:5}},'185':{start:{line:364,column:6},end:{line:364,column:32}},'186':{start:{line:368,column:4},end:{line:386,column:5}},'187':{start:{line:371,column:6},end:{line:379,column:7}},'188':{start:{line:372,column:8},end:{line:372,column:43}},'189':{start:{line:373,column:8},end:{line:373,column:79}},'190':{start:{line:374,column:8},end:{line:374,column:40}},'191':{start:{line:375,column:13},end:{line:379,column:7}},'192':{start:{line:377,column:8},end:{line:377,column:86}},'193':{start:{line:378,column:8},end:{line:378,column:69}},'194':{start:{line:382,column:6},end:{line:384,column:7}},'195':{start:{line:383,column:8},end:{line:383,column:20}},'196':{start:{line:385,column:6},end:{line:385,column:62}},'197':{start:{line:388,column:4},end:{line:388,column:22}},'198':{start:{line:392,column:0},end:{line:418,column:2}},'199':{start:{line:393,column:2},end:{line:393,column:35}},'200':{start:{line:394,column:20},end:{line:394,column:61}},'201':{start:{line:395,column:2},end:{line:417,column:3}},'202':{start:{line:396,column:20},end:{line:396,column:22}},'203':{start:{line:397,column:4},end:{line:401,column:7}},'204':{start:{line:398,column:6},end:{line:400,column:7}},'205':{start:{line:399,column:8},end:{line:399,column:26}},'206':{start:{line:402,column:4},end:{line:413,column:5}},'207':{start:{line:403,column:6},end:{line:403,column:35}},'208':{start:{line:404,column:24},end:{line:404,column:83}},'209':{start:{line:405,column:6},end:{line:405,column:86}},'210':{start:{line:406,column:6},end:{line:406,column:43}},'211':{start:{line:407,column:6},end:{line:407,column:41}},'212':{start:{line:408,column:6},end:{line:408,column:40}},'213':{start:{line:409,column:6},end:{line:409,column:41}},'214':{start:{line:410,column:6},end:{line:410,column:30}},'215':{start:{line:412,column:6},end:{line:412,column:89}},'216':{start:{line:416,column:4},end:{line:416,column:22}},'217':{start:{line:420,column:0},end:{line:425,column:2}},'218':{start:{line:421,column:2},end:{line:421,column:42}},'219':{start:{line:422,column:2},end:{line:422,column:36}},'220':{start:{line:423,column:2},end:{line:423,column:37}},'221':{start:{line:424,column:2},end:{line:424,column:36}},'222':{start:{line:427,column:0},end:{line:427,column:22}}},fnMap:{'0':{name:'Game',decl:{start:{line:20,column:9},end:{line:20,column:13}},loc:{start:{line:20,column:26},end:{line:52,column:1}},line:20},'1':{name:'(anonymous_1)',decl:{start:{line:54,column:25},end:{line:54,column:26}},loc:{start:{line:54,column:36},end:{line:81,column:1}},line:54},'2':{name:'(anonymous_2)',decl:{start:{line:56,column:23},end:{line:56,column:24}},loc:{start:{line:56,column:46},end:{line:66,column:3}},line:56},'3':{name:'(anonymous_3)',decl:{start:{line:83,column:34},end:{line:83,column:35}},loc:{start:{line:83,column:48},end:{line:85,column:1}},line:83},'4':{name:'(anonymous_4)',decl:{start:{line:89,column:36},end:{line:89,column:37}},loc:{start:{line:89,column:47},end:{line:93,column:1}},line:89},'5':{name:'(anonymous_5)',decl:{start:{line:90,column:23},end:{line:90,column:24}},loc:{start:{line:90,column:46},end:{line:92,column:3}},line:90},'6':{name:'(anonymous_6)',decl:{start:{line:95,column:34},end:{line:95,column:35}},loc:{start:{line:95,column:45},end:{line:106,column:1}},line:95},'7':{name:'(anonymous_7)',decl:{start:{line:97,column:23},end:{line:97,column:24}},loc:{start:{line:97,column:40},end:{line:105,column:3}},line:97},'8':{name:'(anonymous_8)',decl:{start:{line:108,column:29},end:{line:108,column:30}},loc:{start:{line:108,column:40},end:{line:133,column:1}},line:108},'9':{name:'(anonymous_9)',decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:26},end:{line:132,column:5}},line:124},'10':{name:'(anonymous_10)',decl:{start:{line:135,column:27},end:{line:135,column:28}},loc:{start:{line:135,column:38},end:{line:140,column:1}},line:135},'11':{name:'(anonymous_11)',decl:{start:{line:142,column:28},end:{line:142,column:29}},loc:{start:{line:142,column:39},end:{line:144,column:1}},line:142},'12':{name:'(anonymous_12)',decl:{start:{line:146,column:31},end:{line:146,column:32}},loc:{start:{line:146,column:46},end:{line:172,column:1}},line:146},'13':{name:'(anonymous_13)',decl:{start:{line:155,column:22},end:{line:155,column:23}},loc:{start:{line:155,column:42},end:{line:157,column:5}},line:155},'14':{name:'(anonymous_14)',decl:{start:{line:169,column:36},end:{line:169,column:37}},loc:{start:{line:169,column:47},end:{line:171,column:3}},line:169},'15':{name:'(anonymous_15)',decl:{start:{line:174,column:29},end:{line:174,column:30}},loc:{start:{line:174,column:40},end:{line:186,column:1}},line:174},'16':{name:'(anonymous_16)',decl:{start:{line:188,column:30},end:{line:188,column:31}},loc:{start:{line:188,column:45},end:{line:202,column:1}},line:188},'17':{name:'(anonymous_17)',decl:{start:{line:197,column:37},end:{line:197,column:38}},loc:{start:{line:197,column:48},end:{line:200,column:5}},line:197},'18':{name:'(anonymous_18)',decl:{start:{line:204,column:30},end:{line:204,column:31}},loc:{start:{line:204,column:45},end:{line:222,column:1}},line:204},'19':{name:'(anonymous_19)',decl:{start:{line:215,column:35},end:{line:215,column:36}},loc:{start:{line:215,column:46},end:{line:221,column:3}},line:215},'20':{name:'(anonymous_20)',decl:{start:{line:224,column:30},end:{line:224,column:31}},loc:{start:{line:224,column:47},end:{line:228,column:1}},line:224},'21':{name:'(anonymous_21)',decl:{start:{line:230,column:35},end:{line:230,column:36}},loc:{start:{line:230,column:46},end:{line:233,column:1}},line:230},'22':{name:'(anonymous_22)',decl:{start:{line:235,column:30},end:{line:235,column:31}},loc:{start:{line:235,column:43},end:{line:239,column:1}},line:235},'23':{name:'(anonymous_23)',decl:{start:{line:236,column:32},end:{line:236,column:33}},loc:{start:{line:236,column:46},end:{line:238,column:3}},line:236},'24':{name:'(anonymous_24)',decl:{start:{line:241,column:28},end:{line:241,column:29}},loc:{start:{line:241,column:41},end:{line:245,column:1}},line:241},'25':{name:'(anonymous_25)',decl:{start:{line:242,column:28},end:{line:242,column:29}},loc:{start:{line:242,column:42},end:{line:244,column:3}},line:242},'26':{name:'(anonymous_26)',decl:{start:{line:247,column:30},end:{line:247,column:31}},loc:{start:{line:247,column:46},end:{line:260,column:1}},line:247},'27':{name:'(anonymous_27)',decl:{start:{line:262,column:29},end:{line:262,column:30}},loc:{start:{line:262,column:50},end:{line:275,column:1}},line:262},'28':{name:'(anonymous_28)',decl:{start:{line:264,column:21},end:{line:264,column:22}},loc:{start:{line:264,column:41},end:{line:266,column:3}},line:264},'29':{name:'(anonymous_29)',decl:{start:{line:277,column:42},end:{line:277,column:43}},loc:{start:{line:277,column:63},end:{line:285,column:1}},line:277},'30':{name:'(anonymous_30)',decl:{start:{line:279,column:23},end:{line:279,column:24}},loc:{start:{line:279,column:47},end:{line:283,column:3}},line:279},'31':{name:'(anonymous_31)',decl:{start:{line:287,column:27},end:{line:287,column:28}},loc:{start:{line:287,column:63},end:{line:335,column:1}},line:287},'32':{name:'(anonymous_32)',decl:{start:{line:296,column:25},end:{line:296,column:26}},loc:{start:{line:296,column:52},end:{line:300,column:7}},line:296},'33':{name:'(anonymous_33)',decl:{start:{line:337,column:27},end:{line:337,column:28}},loc:{start:{line:337,column:48},end:{line:344,column:1}},line:337},'34':{name:'(anonymous_34)',decl:{start:{line:346,column:30},end:{line:346,column:31}},loc:{start:{line:346,column:51},end:{line:390,column:1}},line:346},'35':{name:'(anonymous_35)',decl:{start:{line:392,column:29},end:{line:392,column:30}},loc:{start:{line:392,column:72},end:{line:418,column:1}},line:392},'36':{name:'(anonymous_36)',decl:{start:{line:397,column:23},end:{line:397,column:24}},loc:{start:{line:397,column:51},end:{line:401,column:5}},line:397},'37':{name:'(anonymous_37)',decl:{start:{line:420,column:26},end:{line:420,column:27}},loc:{start:{line:420,column:37},end:{line:425,column:1}},line:420}},branchMap:{'0':{loc:{start:{line:98,column:4},end:{line:104,column:5}},type:'if',locations:[{start:{line:98,column:4},end:{line:104,column:5}},{start:{line:98,column:4},end:{line:104,column:5}}],line:98},'1':{loc:{start:{line:101,column:6},end:{line:103,column:7}},type:'if',locations:[{start:{line:101,column:6},end:{line:103,column:7}},{start:{line:101,column:6},end:{line:103,column:7}}],line:101},'2':{loc:{start:{line:125,column:6},end:{line:127,column:7}},type:'if',locations:[{start:{line:125,column:6},end:{line:127,column:7}},{start:{line:125,column:6},end:{line:127,column:7}}],line:125},'3':{loc:{start:{line:154,column:2},end:{line:158,column:3}},type:'if',locations:[{start:{line:154,column:2},end:{line:158,column:3}},{start:{line:154,column:2},end:{line:158,column:3}}],line:154},'4':{loc:{start:{line:162,column:2},end:{line:166,column:3}},type:'if',locations:[{start:{line:162,column:2},end:{line:166,column:3}},{start:{line:162,column:2},end:{line:166,column:3}}],line:162},'5':{loc:{start:{line:175,column:2},end:{line:185,column:3}},type:'if',locations:[{start:{line:175,column:2},end:{line:185,column:3}},{start:{line:175,column:2},end:{line:185,column:3}}],line:175},'6':{loc:{start:{line:192,column:2},end:{line:201,column:3}},type:'if',locations:[{start:{line:192,column:2},end:{line:201,column:3}},{start:{line:192,column:2},end:{line:201,column:3}}],line:192},'7':{loc:{start:{line:210,column:4},end:{line:212,column:5}},type:'if',locations:[{start:{line:210,column:4},end:{line:212,column:5}},{start:{line:210,column:4},end:{line:212,column:5}}],line:210},'8':{loc:{start:{line:216,column:4},end:{line:220,column:5}},type:'if',locations:[{start:{line:216,column:4},end:{line:220,column:5}},{start:{line:216,column:4},end:{line:220,column:5}}],line:216},'9':{loc:{start:{line:263,column:15},end:{line:263,column:31}},type:'binary-expr',locations:[{start:{line:263,column:15},end:{line:263,column:25}},{start:{line:263,column:29},end:{line:263,column:31}}],line:263},'10':{loc:{start:{line:270,column:6},end:{line:272,column:7}},type:'if',locations:[{start:{line:270,column:6},end:{line:272,column:7}},{start:{line:270,column:6},end:{line:272,column:7}}],line:270},'11':{loc:{start:{line:280,column:4},end:{line:282,column:5}},type:'if',locations:[{start:{line:280,column:4},end:{line:282,column:5}},{start:{line:280,column:4},end:{line:282,column:5}}],line:280},'12':{loc:{start:{line:289,column:2},end:{line:334,column:3}},type:'if',locations:[{start:{line:289,column:2},end:{line:334,column:3}},{start:{line:289,column:2},end:{line:334,column:3}}],line:289},'13':{loc:{start:{line:293,column:4},end:{line:331,column:5}},type:'if',locations:[{start:{line:293,column:4},end:{line:331,column:5}},{start:{line:293,column:4},end:{line:331,column:5}}],line:293},'14':{loc:{start:{line:297,column:8},end:{line:299,column:9}},type:'if',locations:[{start:{line:297,column:8},end:{line:299,column:9}},{start:{line:297,column:8},end:{line:299,column:9}}],line:297},'15':{loc:{start:{line:301,column:6},end:{line:330,column:7}},type:'if',locations:[{start:{line:301,column:6},end:{line:330,column:7}},{start:{line:301,column:6},end:{line:330,column:7}}],line:301},'16':{loc:{start:{line:307,column:12},end:{line:309,column:13}},type:'if',locations:[{start:{line:307,column:12},end:{line:309,column:13}},{start:{line:307,column:12},end:{line:309,column:13}}],line:307},'17':{loc:{start:{line:312,column:10},end:{line:314,column:11}},type:'if',locations:[{start:{line:312,column:10},end:{line:314,column:11}},{start:{line:312,column:10},end:{line:314,column:11}}],line:312},'18':{loc:{start:{line:317,column:8},end:{line:322,column:9}},type:'if',locations:[{start:{line:317,column:8},end:{line:322,column:9}},{start:{line:317,column:8},end:{line:322,column:9}}],line:317},'19':{loc:{start:{line:324,column:8},end:{line:329,column:9}},type:'if',locations:[{start:{line:324,column:8},end:{line:329,column:9}},{start:{line:324,column:8},end:{line:329,column:9}}],line:324},'20':{loc:{start:{line:339,column:2},end:{line:343,column:3}},type:'if',locations:[{start:{line:339,column:2},end:{line:343,column:3}},{start:{line:339,column:2},end:{line:343,column:3}}],line:339},'21':{loc:{start:{line:349,column:2},end:{line:389,column:3}},type:'if',locations:[{start:{line:349,column:2},end:{line:389,column:3}},{start:{line:349,column:2},end:{line:389,column:3}}],line:349},'22':{loc:{start:{line:355,column:6},end:{line:357,column:7}},type:'if',locations:[{start:{line:355,column:6},end:{line:357,column:7}},{start:{line:355,column:6},end:{line:357,column:7}}],line:355},'23':{loc:{start:{line:363,column:4},end:{line:365,column:5}},type:'if',locations:[{start:{line:363,column:4},end:{line:365,column:5}},{start:{line:363,column:4},end:{line:365,column:5}}],line:363},'24':{loc:{start:{line:368,column:4},end:{line:386,column:5}},type:'if',locations:[{start:{line:368,column:4},end:{line:386,column:5}},{start:{line:368,column:4},end:{line:386,column:5}}],line:368},'25':{loc:{start:{line:371,column:6},end:{line:379,column:7}},type:'if',locations:[{start:{line:371,column:6},end:{line:379,column:7}},{start:{line:371,column:6},end:{line:379,column:7}}],line:371},'26':{loc:{start:{line:375,column:13},end:{line:379,column:7}},type:'if',locations:[{start:{line:375,column:13},end:{line:379,column:7}},{start:{line:375,column:13},end:{line:379,column:7}}],line:375},'27':{loc:{start:{line:382,column:6},end:{line:384,column:7}},type:'if',locations:[{start:{line:382,column:6},end:{line:384,column:7}},{start:{line:382,column:6},end:{line:384,column:7}}],line:382},'28':{loc:{start:{line:393,column:15},end:{line:393,column:34}},type:'binary-expr',locations:[{start:{line:393,column:15},end:{line:393,column:25}},{start:{line:393,column:29},end:{line:393,column:34}}],line:393},'29':{loc:{start:{line:395,column:2},end:{line:417,column:3}},type:'if',locations:[{start:{line:395,column:2},end:{line:417,column:3}},{start:{line:395,column:2},end:{line:417,column:3}}],line:395},'30':{loc:{start:{line:395,column:6},end:{line:395,column:94}},type:'binary-expr',locations:[{start:{line:395,column:7},end:{line:395,column:32}},{start:{line:395,column:36},end:{line:395,column:46}},{start:{line:395,column:51},end:{line:395,column:94}}],line:395},'31':{loc:{start:{line:398,column:6},end:{line:400,column:7}},type:'if',locations:[{start:{line:398,column:6},end:{line:400,column:7}},{start:{line:398,column:6},end:{line:400,column:7}}],line:398},'32':{loc:{start:{line:402,column:4},end:{line:413,column:5}},type:'if',locations:[{start:{line:402,column:4},end:{line:413,column:5}},{start:{line:402,column:4},end:{line:413,column:5}}],line:402}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0,'74':0,'75':0,'76':0,'77':0,'78':0,'79':0,'80':0,'81':0,'82':0,'83':0,'84':0,'85':0,'86':0,'87':0,'88':0,'89':0,'90':0,'91':0,'92':0,'93':0,'94':0,'95':0,'96':0,'97':0,'98':0,'99':0,'100':0,'101':0,'102':0,'103':0,'104':0,'105':0,'106':0,'107':0,'108':0,'109':0,'110':0,'111':0,'112':0,'113':0,'114':0,'115':0,'116':0,'117':0,'118':0,'119':0,'120':0,'121':0,'122':0,'123':0,'124':0,'125':0,'126':0,'127':0,'128':0,'129':0,'130':0,'131':0,'132':0,'133':0,'134':0,'135':0,'136':0,'137':0,'138':0,'139':0,'140':0,'141':0,'142':0,'143':0,'144':0,'145':0,'146':0,'147':0,'148':0,'149':0,'150':0,'151':0,'152':0,'153':0,'154':0,'155':0,'156':0,'157':0,'158':0,'159':0,'160':0,'161':0,'162':0,'163':0,'164':0,'165':0,'166':0,'167':0,'168':0,'169':0,'170':0,'171':0,'172':0,'173':0,'174':0,'175':0,'176':0,'177':0,'178':0,'179':0,'180':0,'181':0,'182':0,'183':0,'184':0,'185':0,'186':0,'187':0,'188':0,'189':0,'190':0,'191':0,'192':0,'193':0,'194':0,'195':0,'196':0,'197':0,'198':0,'199':0,'200':0,'201':0,'202':0,'203':0,'204':0,'205':0,'206':0,'207':0,'208':0,'209':0,'210':0,'211':0,'212':0,'213':0,'214':0,'215':0,'216':0,'217':0,'218':0,'219':0,'220':0,'221':0,'222':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0],'12':[0,0],'13':[0,0],'14':[0,0],'15':[0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0],'21':[0,0],'22':[0,0],'23':[0,0],'24':[0,0],'25':[0,0],'26':[0,0],'27':[0,0],'28':[0,0],'29':[0,0],'30':[0,0,0],'31':[0,0],'32':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();var async=(cov_160xkzeq3c.s[0]++,require('async'));var _=(cov_160xkzeq3c.s[1]++,require('underscore'));var questions=(cov_160xkzeq3c.s[2]++,require(__dirname+'/../../app/controllers/questions.js'));var answers=(cov_160xkzeq3c.s[3]++,require(__dirname+'/../../app/controllers/answers.js'));var guestNames=(cov_160xkzeq3c.s[4]++,["Disco Potato","Silver Blister","Insulated Mustard","Funeral Flapjack","Toenail","Urgent Drip","Raging Bagel","Aggressive Pie","Loving Spoon","Swollen Node","The Spleen","Dingle Dangle"]);function Game(gameID,io){cov_160xkzeq3c.f[0]++;cov_160xkzeq3c.s[5]++;this.io=io;cov_160xkzeq3c.s[6]++;this.gameID=gameID;cov_160xkzeq3c.s[7]++;this.players=[];// Contains array of player models
cov_160xkzeq3c.s[8]++;this.table=[];// Contains array of {card: card, player: player.id}
cov_160xkzeq3c.s[9]++;this.winningCard=-1;// Index in this.table
cov_160xkzeq3c.s[10]++;this.gameWinner=-1;// Index in this.players
cov_160xkzeq3c.s[11]++;this.winnerAutopicked=false;cov_160xkzeq3c.s[12]++;this.czar=-1;// Index in this.players
cov_160xkzeq3c.s[13]++;this.playerMinLimit=3;cov_160xkzeq3c.s[14]++;this.playerMaxLimit=6;cov_160xkzeq3c.s[15]++;this.pointLimit=5;cov_160xkzeq3c.s[16]++;this.state="awaiting players";cov_160xkzeq3c.s[17]++;this.round=0;cov_160xkzeq3c.s[18]++;this.questions=null;cov_160xkzeq3c.s[19]++;this.answers=null;cov_160xkzeq3c.s[20]++;this.curQuestion=null;cov_160xkzeq3c.s[21]++;this.timeLimits={stateChoosing:21,stateJudging:16,stateResults:6};// setTimeout ID that triggers the czar judging state
// Used to automatically run czar judging if players don't pick before time limit
// Gets cleared if players finish picking before time limit.
cov_160xkzeq3c.s[22]++;this.choosingTimeout=0;// setTimeout ID that triggers the result state
// Used to automatically run result if czar doesn't decide before time limit
// Gets cleared if czar finishes judging before time limit.
cov_160xkzeq3c.s[23]++;this.judgingTimeout=0;cov_160xkzeq3c.s[24]++;this.resultsTimeout=0;cov_160xkzeq3c.s[25]++;this.guestNames=guestNames.slice();}cov_160xkzeq3c.s[26]++;Game.prototype.payload=function(){cov_160xkzeq3c.f[1]++;var players=(cov_160xkzeq3c.s[27]++,[]);cov_160xkzeq3c.s[28]++;this.players.forEach(function(player,index){cov_160xkzeq3c.f[2]++;cov_160xkzeq3c.s[29]++;players.push({hand:player.hand,points:player.points,username:player.username,avatar:player.avatar,premium:player.premium,socketID:player.socket.id,color:player.color});});cov_160xkzeq3c.s[30]++;return{gameID:this.gameID,players:players,czar:this.czar,state:this.state,round:this.round,gameWinner:this.gameWinner,winningCard:this.winningCard,winningCardPlayer:this.winningCardPlayer,winnerAutopicked:this.winnerAutopicked,table:this.table,pointLimit:this.pointLimit,curQuestion:this.curQuestion};};cov_160xkzeq3c.s[31]++;Game.prototype.sendNotification=function(msg){cov_160xkzeq3c.f[3]++;cov_160xkzeq3c.s[32]++;this.io.sockets.in(this.gameID).emit('notification',{notification:msg});};// Currently called on each joinGame event from socket.js
// Also called on removePlayer IF game is in 'awaiting players' state
cov_160xkzeq3c.s[33]++;Game.prototype.assignPlayerColors=function(){cov_160xkzeq3c.f[4]++;cov_160xkzeq3c.s[34]++;this.players.forEach(function(player,index){cov_160xkzeq3c.f[5]++;cov_160xkzeq3c.s[35]++;player.color=index;});};cov_160xkzeq3c.s[36]++;Game.prototype.assignGuestNames=function(){cov_160xkzeq3c.f[6]++;var self=(cov_160xkzeq3c.s[37]++,this);cov_160xkzeq3c.s[38]++;this.players.forEach(function(player){cov_160xkzeq3c.f[7]++;cov_160xkzeq3c.s[39]++;if(player.username==='Guest'){cov_160xkzeq3c.b[0][0]++;var randIndex=(cov_160xkzeq3c.s[40]++,Math.floor(Math.random()*self.guestNames.length));cov_160xkzeq3c.s[41]++;player.username=self.guestNames.splice(randIndex,1)[0];cov_160xkzeq3c.s[42]++;if(!self.guestNames.length){cov_160xkzeq3c.b[1][0]++;cov_160xkzeq3c.s[43]++;self.guestNames=guestNames.slice();}else{cov_160xkzeq3c.b[1][1]++;}}else{cov_160xkzeq3c.b[0][1]++;}});};cov_160xkzeq3c.s[44]++;Game.prototype.prepareGame=function(){cov_160xkzeq3c.f[8]++;cov_160xkzeq3c.s[45]++;this.state="game in progress";cov_160xkzeq3c.s[46]++;this.io.sockets.in(this.gameID).emit('prepareGame',{playerMinLimit:this.playerMinLimit,playerMaxLimit:this.playerMaxLimit,pointLimit:this.pointLimit,timeLimits:this.timeLimits});var self=(cov_160xkzeq3c.s[47]++,this);cov_160xkzeq3c.s[48]++;async.parallel([this.getQuestions,this.getAnswers],function(err,results){cov_160xkzeq3c.f[9]++;cov_160xkzeq3c.s[49]++;if(err){cov_160xkzeq3c.b[2][0]++;cov_160xkzeq3c.s[50]++;console.log(err);}else{cov_160xkzeq3c.b[2][1]++;}cov_160xkzeq3c.s[51]++;self.questions=results[0];cov_160xkzeq3c.s[52]++;self.answers=results[1];cov_160xkzeq3c.s[53]++;self.startGame();});};cov_160xkzeq3c.s[54]++;Game.prototype.startGame=function(){cov_160xkzeq3c.f[10]++;cov_160xkzeq3c.s[55]++;console.log(this.gameID,this.state);cov_160xkzeq3c.s[56]++;this.shuffleCards(this.questions);cov_160xkzeq3c.s[57]++;this.shuffleCards(this.answers);cov_160xkzeq3c.s[58]++;this.stateChoosing(this);};cov_160xkzeq3c.s[59]++;Game.prototype.sendUpdate=function(){cov_160xkzeq3c.f[11]++;cov_160xkzeq3c.s[60]++;this.io.sockets.in(this.gameID).emit('gameUpdate',this.payload());};cov_160xkzeq3c.s[61]++;Game.prototype.stateChoosing=function(self){cov_160xkzeq3c.f[12]++;cov_160xkzeq3c.s[62]++;self.state="waiting for players to pick";// console.log(self.gameID,self.state);
cov_160xkzeq3c.s[63]++;self.table=[];cov_160xkzeq3c.s[64]++;self.winningCard=-1;cov_160xkzeq3c.s[65]++;self.winningCardPlayer=-1;cov_160xkzeq3c.s[66]++;self.winnerAutopicked=false;cov_160xkzeq3c.s[67]++;self.curQuestion=self.questions.pop();cov_160xkzeq3c.s[68]++;if(!self.questions.length){cov_160xkzeq3c.b[3][0]++;cov_160xkzeq3c.s[69]++;self.getQuestions(function(err,data){cov_160xkzeq3c.f[13]++;cov_160xkzeq3c.s[70]++;self.questions=data;});}else{cov_160xkzeq3c.b[3][1]++;}cov_160xkzeq3c.s[71]++;self.round++;cov_160xkzeq3c.s[72]++;self.dealAnswers();// Rotate card czar
cov_160xkzeq3c.s[73]++;if(self.czar>=self.players.length-1){cov_160xkzeq3c.b[4][0]++;cov_160xkzeq3c.s[74]++;self.czar=0;}else{cov_160xkzeq3c.b[4][1]++;cov_160xkzeq3c.s[75]++;self.czar++;}cov_160xkzeq3c.s[76]++;self.sendUpdate();cov_160xkzeq3c.s[77]++;self.choosingTimeout=setTimeout(function(){cov_160xkzeq3c.f[14]++;cov_160xkzeq3c.s[78]++;self.stateJudging(self);},self.timeLimits.stateChoosing*1000);};cov_160xkzeq3c.s[79]++;Game.prototype.selectFirst=function(){cov_160xkzeq3c.f[15]++;cov_160xkzeq3c.s[80]++;if(this.table.length){cov_160xkzeq3c.b[5][0]++;cov_160xkzeq3c.s[81]++;this.winningCard=0;var winnerIndex=(cov_160xkzeq3c.s[82]++,this._findPlayerIndexBySocket(this.table[0].player));cov_160xkzeq3c.s[83]++;this.winningCardPlayer=winnerIndex;cov_160xkzeq3c.s[84]++;this.players[winnerIndex].points++;cov_160xkzeq3c.s[85]++;this.winnerAutopicked=true;cov_160xkzeq3c.s[86]++;this.stateResults(this);}else{cov_160xkzeq3c.b[5][1]++;cov_160xkzeq3c.s[87]++;// console.log(this.gameID,'no cards were picked!');
this.stateChoosing(this);}};cov_160xkzeq3c.s[88]++;Game.prototype.stateJudging=function(self){cov_160xkzeq3c.f[16]++;cov_160xkzeq3c.s[89]++;self.state="waiting for czar to decide";// console.log(self.gameID,self.state);
cov_160xkzeq3c.s[90]++;if(self.table.length<=1){cov_160xkzeq3c.b[6][0]++;cov_160xkzeq3c.s[91]++;// Automatically select a card if only one card was submitted
self.selectFirst();}else{cov_160xkzeq3c.b[6][1]++;cov_160xkzeq3c.s[92]++;self.sendUpdate();cov_160xkzeq3c.s[93]++;self.judgingTimeout=setTimeout(function(){cov_160xkzeq3c.f[17]++;cov_160xkzeq3c.s[94]++;// Automatically select the first submitted card when time runs out.
self.selectFirst();},self.timeLimits.stateJudging*1000);}};cov_160xkzeq3c.s[95]++;Game.prototype.stateResults=function(self){cov_160xkzeq3c.f[18]++;cov_160xkzeq3c.s[96]++;self.state="winner has been chosen";cov_160xkzeq3c.s[97]++;console.log(self.state);// TODO: do stuff
var winner=(cov_160xkzeq3c.s[98]++,-1);cov_160xkzeq3c.s[99]++;for(var i=0;i<self.players.length;i++){cov_160xkzeq3c.s[100]++;if(self.players[i].points>=self.pointLimit){cov_160xkzeq3c.b[7][0]++;cov_160xkzeq3c.s[101]++;winner=i;}else{cov_160xkzeq3c.b[7][1]++;}}cov_160xkzeq3c.s[102]++;self.sendUpdate();cov_160xkzeq3c.s[103]++;self.resultsTimeout=setTimeout(function(){cov_160xkzeq3c.f[19]++;cov_160xkzeq3c.s[104]++;if(winner!==-1){cov_160xkzeq3c.b[8][0]++;cov_160xkzeq3c.s[105]++;self.stateEndGame(winner);}else{cov_160xkzeq3c.b[8][1]++;cov_160xkzeq3c.s[106]++;self.stateChoosing(self);}},self.timeLimits.stateResults*1000);};cov_160xkzeq3c.s[107]++;Game.prototype.stateEndGame=function(winner){cov_160xkzeq3c.f[20]++;cov_160xkzeq3c.s[108]++;this.state="game ended";cov_160xkzeq3c.s[109]++;this.gameWinner=winner;cov_160xkzeq3c.s[110]++;this.sendUpdate();};cov_160xkzeq3c.s[111]++;Game.prototype.stateDissolveGame=function(){cov_160xkzeq3c.f[21]++;cov_160xkzeq3c.s[112]++;this.state="game dissolved";cov_160xkzeq3c.s[113]++;this.sendUpdate();};cov_160xkzeq3c.s[114]++;Game.prototype.getQuestions=function(cb){cov_160xkzeq3c.f[22]++;cov_160xkzeq3c.s[115]++;questions.allQuestionsForGame(function(data){cov_160xkzeq3c.f[23]++;cov_160xkzeq3c.s[116]++;cb(null,data);});};cov_160xkzeq3c.s[117]++;Game.prototype.getAnswers=function(cb){cov_160xkzeq3c.f[24]++;cov_160xkzeq3c.s[118]++;answers.allAnswersForGame(function(data){cov_160xkzeq3c.f[25]++;cov_160xkzeq3c.s[119]++;cb(null,data);});};cov_160xkzeq3c.s[120]++;Game.prototype.shuffleCards=function(cards){cov_160xkzeq3c.f[26]++;var shuffleIndex=(cov_160xkzeq3c.s[121]++,cards.length);var temp;var randNum;cov_160xkzeq3c.s[122]++;while(shuffleIndex){cov_160xkzeq3c.s[123]++;randNum=Math.floor(Math.random()*shuffleIndex--);cov_160xkzeq3c.s[124]++;temp=cards[randNum];cov_160xkzeq3c.s[125]++;cards[randNum]=cards[shuffleIndex];cov_160xkzeq3c.s[126]++;cards[shuffleIndex]=temp;}cov_160xkzeq3c.s[127]++;return cards;};cov_160xkzeq3c.s[128]++;Game.prototype.dealAnswers=function(maxAnswers){cov_160xkzeq3c.f[27]++;cov_160xkzeq3c.s[129]++;maxAnswers=(cov_160xkzeq3c.b[9][0]++,maxAnswers)||(cov_160xkzeq3c.b[9][1]++,10);cov_160xkzeq3c.s[130]++;var storeAnswers=function(err,data){cov_160xkzeq3c.f[28]++;cov_160xkzeq3c.s[131]++;this.answers=data;};cov_160xkzeq3c.s[132]++;for(var i=0;i<this.players.length;i++){cov_160xkzeq3c.s[133]++;while(this.players[i].hand.length<maxAnswers){cov_160xkzeq3c.s[134]++;this.players[i].hand.push(this.answers.pop());cov_160xkzeq3c.s[135]++;if(!this.answers.length){cov_160xkzeq3c.b[10][0]++;cov_160xkzeq3c.s[136]++;this.getAnswers(storeAnswers);}else{cov_160xkzeq3c.b[10][1]++;}}}};cov_160xkzeq3c.s[137]++;Game.prototype._findPlayerIndexBySocket=function(thisPlayer){cov_160xkzeq3c.f[29]++;var playerIndex=(cov_160xkzeq3c.s[138]++,-1);cov_160xkzeq3c.s[139]++;_.each(this.players,function(player,index){cov_160xkzeq3c.f[30]++;cov_160xkzeq3c.s[140]++;if(player.socket.id===thisPlayer){cov_160xkzeq3c.b[11][0]++;cov_160xkzeq3c.s[141]++;playerIndex=index;}else{cov_160xkzeq3c.b[11][1]++;}});cov_160xkzeq3c.s[142]++;return playerIndex;};cov_160xkzeq3c.s[143]++;Game.prototype.pickCards=function(thisCardArray,thisPlayer){cov_160xkzeq3c.f[31]++;cov_160xkzeq3c.s[144]++;// Only accept cards when we expect players to pick a card
if(this.state==="waiting for players to pick"){cov_160xkzeq3c.b[12][0]++;// Find the player's position in the players array
var playerIndex=(cov_160xkzeq3c.s[145]++,this._findPlayerIndexBySocket(thisPlayer));cov_160xkzeq3c.s[146]++;console.log('player is at index',playerIndex);cov_160xkzeq3c.s[147]++;if(playerIndex!==-1){cov_160xkzeq3c.b[13][0]++;// Verify that the player hasn't previously picked a card
var previouslySubmitted=(cov_160xkzeq3c.s[148]++,false);cov_160xkzeq3c.s[149]++;_.each(this.table,function(pickedSet,index){cov_160xkzeq3c.f[32]++;cov_160xkzeq3c.s[150]++;if(pickedSet.player===thisPlayer){cov_160xkzeq3c.b[14][0]++;cov_160xkzeq3c.s[151]++;previouslySubmitted=true;}else{cov_160xkzeq3c.b[14][1]++;}});cov_160xkzeq3c.s[152]++;if(!previouslySubmitted){cov_160xkzeq3c.b[15][0]++;// Find the indices of the cards in the player's hand (given the card ids)
var tableCard=(cov_160xkzeq3c.s[153]++,[]);cov_160xkzeq3c.s[154]++;for(var i=0;i<thisCardArray.length;i++){var cardIndex=(cov_160xkzeq3c.s[155]++,null);cov_160xkzeq3c.s[156]++;for(var j=0;j<this.players[playerIndex].hand.length;j++){cov_160xkzeq3c.s[157]++;if(this.players[playerIndex].hand[j].id===thisCardArray[i]){cov_160xkzeq3c.b[16][0]++;cov_160xkzeq3c.s[158]++;cardIndex=j;}else{cov_160xkzeq3c.b[16][1]++;}}cov_160xkzeq3c.s[159]++;console.log('card',i,'is at index',cardIndex);cov_160xkzeq3c.s[160]++;if(cardIndex!==null){cov_160xkzeq3c.b[17][0]++;cov_160xkzeq3c.s[161]++;tableCard.push(this.players[playerIndex].hand.splice(cardIndex,1)[0]);}else{cov_160xkzeq3c.b[17][1]++;}cov_160xkzeq3c.s[162]++;console.log('table object at',cardIndex,':',tableCard);}cov_160xkzeq3c.s[163]++;if(tableCard.length===this.curQuestion.numAnswers){cov_160xkzeq3c.b[18][0]++;cov_160xkzeq3c.s[164]++;this.table.push({card:tableCard,player:this.players[playerIndex].socket.id});}else{cov_160xkzeq3c.b[18][1]++;}cov_160xkzeq3c.s[165]++;console.log('final table object',this.table);cov_160xkzeq3c.s[166]++;if(this.table.length===this.players.length-1){cov_160xkzeq3c.b[19][0]++;cov_160xkzeq3c.s[167]++;clearTimeout(this.choosingTimeout);cov_160xkzeq3c.s[168]++;this.stateJudging(this);}else{cov_160xkzeq3c.b[19][1]++;cov_160xkzeq3c.s[169]++;this.sendUpdate();}}else{cov_160xkzeq3c.b[15][1]++;}}else{cov_160xkzeq3c.b[13][1]++;}}else{cov_160xkzeq3c.b[12][1]++;cov_160xkzeq3c.s[170]++;console.log('NOTE:',thisPlayer,'picked a card during',this.state);}};cov_160xkzeq3c.s[171]++;Game.prototype.getPlayer=function(thisPlayer){cov_160xkzeq3c.f[33]++;var playerIndex=(cov_160xkzeq3c.s[172]++,this._findPlayerIndexBySocket(thisPlayer));cov_160xkzeq3c.s[173]++;if(playerIndex>-1){cov_160xkzeq3c.b[20][0]++;cov_160xkzeq3c.s[174]++;return this.players[playerIndex];}else{cov_160xkzeq3c.b[20][1]++;cov_160xkzeq3c.s[175]++;return{};}};cov_160xkzeq3c.s[176]++;Game.prototype.removePlayer=function(thisPlayer){cov_160xkzeq3c.f[34]++;var playerIndex=(cov_160xkzeq3c.s[177]++,this._findPlayerIndexBySocket(thisPlayer));cov_160xkzeq3c.s[178]++;if(playerIndex!==-1){cov_160xkzeq3c.b[21][0]++;// Just used to send the remaining players a notification
var playerName=(cov_160xkzeq3c.s[179]++,this.players[playerIndex].username);// If this player submitted a card, take it off the table
cov_160xkzeq3c.s[180]++;for(var i=0;i<this.table.length;i++){cov_160xkzeq3c.s[181]++;if(this.table[i].player===thisPlayer){cov_160xkzeq3c.b[22][0]++;cov_160xkzeq3c.s[182]++;this.table.splice(i,1);}else{cov_160xkzeq3c.b[22][1]++;}}// Remove player from this.players
cov_160xkzeq3c.s[183]++;this.players.splice(playerIndex,1);cov_160xkzeq3c.s[184]++;if(this.state==="awaiting players"){cov_160xkzeq3c.b[23][0]++;cov_160xkzeq3c.s[185]++;this.assignPlayerColors();}else{cov_160xkzeq3c.b[23][1]++;}// Check if the player is the czar
cov_160xkzeq3c.s[186]++;if(this.czar===playerIndex){cov_160xkzeq3c.b[24][0]++;cov_160xkzeq3c.s[187]++;// If the player is the czar...
// If players are currently picking a card, advance to a new round.
if(this.state==="waiting for players to pick"){cov_160xkzeq3c.b[25][0]++;cov_160xkzeq3c.s[188]++;clearTimeout(this.choosingTimeout);cov_160xkzeq3c.s[189]++;this.sendNotification('The Czar left the game! Starting a new round.');cov_160xkzeq3c.s[190]++;return this.stateChoosing(this);}else{cov_160xkzeq3c.b[25][1]++;cov_160xkzeq3c.s[191]++;if(this.state==="waiting for czar to decide"){cov_160xkzeq3c.b[26][0]++;cov_160xkzeq3c.s[192]++;// If players are waiting on a czar to pick, auto pick.
this.sendNotification('The Czar left the game! First answer submitted wins!');cov_160xkzeq3c.s[193]++;this.pickWinning(this.table[0].card[0].id,thisPlayer,true);}else{cov_160xkzeq3c.b[26][1]++;}}}else{cov_160xkzeq3c.b[24][1]++;cov_160xkzeq3c.s[194]++;// Update the czar's position if the removed player is above the current czar
if(playerIndex<this.czar){cov_160xkzeq3c.b[27][0]++;cov_160xkzeq3c.s[195]++;this.czar--;}else{cov_160xkzeq3c.b[27][1]++;}cov_160xkzeq3c.s[196]++;this.sendNotification(playerName+' has left the game.');}cov_160xkzeq3c.s[197]++;this.sendUpdate();}else{cov_160xkzeq3c.b[21][1]++;}};cov_160xkzeq3c.s[198]++;Game.prototype.pickWinning=function(thisCard,thisPlayer,autopicked){cov_160xkzeq3c.f[35]++;cov_160xkzeq3c.s[199]++;autopicked=(cov_160xkzeq3c.b[28][0]++,autopicked)||(cov_160xkzeq3c.b[28][1]++,false);var playerIndex=(cov_160xkzeq3c.s[200]++,this._findPlayerIndexBySocket(thisPlayer));cov_160xkzeq3c.s[201]++;if(((cov_160xkzeq3c.b[30][0]++,playerIndex===this.czar)||(cov_160xkzeq3c.b[30][1]++,autopicked))&&(cov_160xkzeq3c.b[30][2]++,this.state==="waiting for czar to decide")){cov_160xkzeq3c.b[29][0]++;var cardIndex=(cov_160xkzeq3c.s[202]++,-1);cov_160xkzeq3c.s[203]++;_.each(this.table,function(winningSet,index){cov_160xkzeq3c.f[36]++;cov_160xkzeq3c.s[204]++;if(winningSet.card[0].id===thisCard){cov_160xkzeq3c.b[31][0]++;cov_160xkzeq3c.s[205]++;cardIndex=index;}else{cov_160xkzeq3c.b[31][1]++;}});cov_160xkzeq3c.s[206]++;if(cardIndex!==-1){cov_160xkzeq3c.b[32][0]++;cov_160xkzeq3c.s[207]++;this.winningCard=cardIndex;var winnerIndex=(cov_160xkzeq3c.s[208]++,this._findPlayerIndexBySocket(this.table[cardIndex].player));cov_160xkzeq3c.s[209]++;this.sendNotification(this.players[winnerIndex].username+' has won the round!');cov_160xkzeq3c.s[210]++;this.winningCardPlayer=winnerIndex;cov_160xkzeq3c.s[211]++;this.players[winnerIndex].points++;cov_160xkzeq3c.s[212]++;clearTimeout(this.judgingTimeout);cov_160xkzeq3c.s[213]++;this.winnerAutopicked=autopicked;cov_160xkzeq3c.s[214]++;this.stateResults(this);}else{cov_160xkzeq3c.b[32][1]++;cov_160xkzeq3c.s[215]++;console.log('WARNING: czar',thisPlayer,'picked a card that was not on the table.');}}else{cov_160xkzeq3c.b[29][1]++;cov_160xkzeq3c.s[216]++;// TODO: Do something?
this.sendUpdate();}};cov_160xkzeq3c.s[217]++;Game.prototype.killGame=function(){cov_160xkzeq3c.f[37]++;cov_160xkzeq3c.s[218]++;console.log('Killing game',this.gameID);cov_160xkzeq3c.s[219]++;clearTimeout(this.resultsTimeout);cov_160xkzeq3c.s[220]++;clearTimeout(this.choosingTimeout);cov_160xkzeq3c.s[221]++;clearTimeout(this.judgingTimeout);};cov_160xkzeq3c.s[222]++;module.exports=Game;