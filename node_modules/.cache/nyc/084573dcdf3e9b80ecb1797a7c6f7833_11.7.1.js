var cov_19ya2wxnro=function(){var path='/Users/andeladeveloper/Documents/Projects/thorin-cfh/app/controllers/users.js',hash='4b14b3172c14d36ecd8b645574f201f7e758aa49',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/Users/andeladeveloper/Documents/Projects/thorin-cfh/app/controllers/users.js',statementMap:{'0':{start:{line:4,column:15},end:{line:4,column:34}},'1':{start:{line:5,column:9},end:{line:5,column:31}},'2':{start:{line:6,column:14},end:{line:6,column:40}},'3':{start:{line:11,column:0},end:{line:13,column:2}},'4':{start:{line:12,column:2},end:{line:12,column:33}},'5':{start:{line:18,column:0},end:{line:24,column:2}},'6':{start:{line:19,column:2},end:{line:23,column:3}},'7':{start:{line:20,column:4},end:{line:20,column:45}},'8':{start:{line:22,column:4},end:{line:22,column:28}},'9':{start:{line:29,column:0},end:{line:35,column:2}},'10':{start:{line:30,column:2},end:{line:34,column:3}},'11':{start:{line:31,column:4},end:{line:31,column:31}},'12':{start:{line:33,column:4},end:{line:33,column:28}},'13':{start:{line:40,column:0},end:{line:43,column:2}},'14':{start:{line:41,column:2},end:{line:41,column:15}},'15':{start:{line:42,column:2},end:{line:42,column:20}},'16':{start:{line:48,column:0},end:{line:50,column:2}},'17':{start:{line:49,column:2},end:{line:49,column:20}},'18':{start:{line:57,column:0},end:{line:74,column:2}},'19':{start:{line:58,column:2},end:{line:72,column:3}},'20':{start:{line:59,column:4},end:{line:68,column:7}},'21':{start:{line:63,column:6},end:{line:67,column:7}},'22':{start:{line:64,column:8},end:{line:64,column:29}},'23':{start:{line:66,column:8},end:{line:66,column:42}},'24':{start:{line:71,column:4},end:{line:71,column:22}},'25':{start:{line:79,column:0},end:{line:108,column:2}},'26':{start:{line:80,column:2},end:{line:107,column:3}},'27':{start:{line:81,column:4},end:{line:104,column:7}},'28':{start:{line:84,column:6},end:{line:103,column:7}},'29':{start:{line:85,column:19},end:{line:85,column:37}},'30':{start:{line:87,column:8},end:{line:87,column:43}},'31':{start:{line:88,column:8},end:{line:88,column:32}},'32':{start:{line:89,column:8},end:{line:100,column:11}},'33':{start:{line:90,column:10},end:{line:95,column:11}},'34':{start:{line:91,column:12},end:{line:94,column:15}},'35':{start:{line:96,column:10},end:{line:99,column:13}},'36':{start:{line:97,column:12},end:{line:97,column:38}},'37':{start:{line:97,column:21},end:{line:97,column:38}},'38':{start:{line:98,column:12},end:{line:98,column:40}},'39':{start:{line:102,column:8},end:{line:102,column:61}},'40':{start:{line:106,column:4},end:{line:106,column:55}},'41':{start:{line:113,column:0},end:{line:126,column:2}},'42':{start:{line:115,column:2},end:{line:124,column:3}},'43':{start:{line:117,column:4},end:{line:123,column:7}},'44':{start:{line:121,column:6},end:{line:121,column:45}},'45':{start:{line:122,column:6},end:{line:122,column:18}},'46':{start:{line:125,column:2},end:{line:125,column:33}},'47':{start:{line:128,column:0},end:{line:153,column:2}},'48':{start:{line:129,column:2},end:{line:151,column:3}},'49':{start:{line:131,column:4},end:{line:150,column:5}},'50':{start:{line:132,column:6},end:{line:149,column:9}},'51':{start:{line:137,column:24},end:{line:137,column:29}},'52':{start:{line:138,column:8},end:{line:142,column:9}},'53':{start:{line:139,column:10},end:{line:141,column:11}},'54':{start:{line:140,column:12},end:{line:140,column:29}},'55':{start:{line:143,column:8},end:{line:148,column:9}},'56':{start:{line:144,column:10},end:{line:144,column:44}},'57':{start:{line:145,column:10},end:{line:145,column:40}},'58':{start:{line:146,column:10},end:{line:146,column:27}},'59':{start:{line:147,column:10},end:{line:147,column:22}},'60':{start:{line:152,column:2},end:{line:152,column:13}},'61':{start:{line:158,column:0},end:{line:165,column:2}},'62':{start:{line:159,column:13},end:{line:159,column:24}},'63':{start:{line:161,column:2},end:{line:164,column:5}},'64':{start:{line:170,column:0},end:{line:172,column:2}},'65':{start:{line:171,column:2},end:{line:171,column:30}},'66':{start:{line:177,column:0},end:{line:188,column:2}},'67':{start:{line:178,column:2},end:{line:187,column:7}},'68':{start:{line:183,column:6},end:{line:183,column:32}},'69':{start:{line:183,column:15},end:{line:183,column:32}},'70':{start:{line:184,column:6},end:{line:184,column:69}},'71':{start:{line:184,column:17},end:{line:184,column:69}},'72':{start:{line:185,column:6},end:{line:185,column:25}},'73':{start:{line:186,column:6},end:{line:186,column:13}}},fnMap:{'0':{name:'(anonymous_0)',decl:{start:{line:11,column:23},end:{line:11,column:24}},loc:{start:{line:11,column:48},end:{line:13,column:1}},line:11},'1':{name:'(anonymous_1)',decl:{start:{line:18,column:17},end:{line:18,column:18}},loc:{start:{line:18,column:36},end:{line:24,column:1}},line:18},'2':{name:'(anonymous_2)',decl:{start:{line:29,column:17},end:{line:29,column:18}},loc:{start:{line:29,column:36},end:{line:35,column:1}},line:29},'3':{name:'(anonymous_3)',decl:{start:{line:40,column:18},end:{line:40,column:19}},loc:{start:{line:40,column:37},end:{line:43,column:1}},line:40},'4':{name:'(anonymous_4)',decl:{start:{line:48,column:18},end:{line:48,column:19}},loc:{start:{line:48,column:37},end:{line:50,column:1}},line:48},'5':{name:'(anonymous_5)',decl:{start:{line:57,column:22},end:{line:57,column:23}},loc:{start:{line:57,column:41},end:{line:74,column:1}},line:57},'6':{name:'(anonymous_6)',decl:{start:{line:62,column:10},end:{line:62,column:11}},loc:{start:{line:62,column:30},end:{line:68,column:5}},line:62},'7':{name:'(anonymous_7)',decl:{start:{line:79,column:17},end:{line:79,column:18}},loc:{start:{line:79,column:36},end:{line:108,column:1}},line:79},'8':{name:'(anonymous_8)',decl:{start:{line:83,column:12},end:{line:83,column:13}},loc:{start:{line:83,column:39},end:{line:104,column:5}},line:83},'9':{name:'(anonymous_9)',decl:{start:{line:89,column:18},end:{line:89,column:19}},loc:{start:{line:89,column:32},end:{line:100,column:9}},line:89},'10':{name:'(anonymous_10)',decl:{start:{line:96,column:26},end:{line:96,column:27}},loc:{start:{line:96,column:40},end:{line:99,column:11}},line:96},'11':{name:'(anonymous_11)',decl:{start:{line:113,column:18},end:{line:113,column:19}},loc:{start:{line:113,column:37},end:{line:126,column:1}},line:113},'12':{name:'(anonymous_12)',decl:{start:{line:120,column:10},end:{line:120,column:11}},loc:{start:{line:120,column:30},end:{line:123,column:5}},line:120},'13':{name:'(anonymous_13)',decl:{start:{line:128,column:22},end:{line:128,column:23}},loc:{start:{line:128,column:41},end:{line:153,column:1}},line:128},'14':{name:'(anonymous_14)',decl:{start:{line:135,column:12},end:{line:135,column:13}},loc:{start:{line:135,column:32},end:{line:149,column:7}},line:135},'15':{name:'(anonymous_15)',decl:{start:{line:158,column:15},end:{line:158,column:16}},loc:{start:{line:158,column:34},end:{line:165,column:1}},line:158},'16':{name:'(anonymous_16)',decl:{start:{line:170,column:13},end:{line:170,column:14}},loc:{start:{line:170,column:32},end:{line:172,column:1}},line:170},'17':{name:'(anonymous_17)',decl:{start:{line:177,column:15},end:{line:177,column:16}},loc:{start:{line:177,column:44},end:{line:188,column:1}},line:177},'18':{name:'(anonymous_18)',decl:{start:{line:182,column:10},end:{line:182,column:11}},loc:{start:{line:182,column:30},end:{line:187,column:5}},line:182}},branchMap:{'0':{loc:{start:{line:19,column:2},end:{line:23,column:3}},type:'if',locations:[{start:{line:19,column:2},end:{line:23,column:3}},{start:{line:19,column:2},end:{line:23,column:3}}],line:19},'1':{loc:{start:{line:30,column:2},end:{line:34,column:3}},type:'if',locations:[{start:{line:30,column:2},end:{line:34,column:3}},{start:{line:30,column:2},end:{line:34,column:3}}],line:30},'2':{loc:{start:{line:58,column:2},end:{line:72,column:3}},type:'if',locations:[{start:{line:58,column:2},end:{line:72,column:3}},{start:{line:58,column:2},end:{line:72,column:3}}],line:58},'3':{loc:{start:{line:58,column:6},end:{line:58,column:30}},type:'binary-expr',locations:[{start:{line:58,column:6},end:{line:58,column:14}},{start:{line:58,column:18},end:{line:58,column:30}}],line:58},'4':{loc:{start:{line:63,column:6},end:{line:67,column:7}},type:'if',locations:[{start:{line:63,column:6},end:{line:67,column:7}},{start:{line:63,column:6},end:{line:67,column:7}}],line:63},'5':{loc:{start:{line:80,column:2},end:{line:107,column:3}},type:'if',locations:[{start:{line:80,column:2},end:{line:107,column:3}},{start:{line:80,column:2},end:{line:107,column:3}}],line:80},'6':{loc:{start:{line:80,column:6},end:{line:80,column:58}},type:'binary-expr',locations:[{start:{line:80,column:6},end:{line:80,column:19}},{start:{line:80,column:23},end:{line:80,column:40}},{start:{line:80,column:44},end:{line:80,column:58}}],line:80},'7':{loc:{start:{line:84,column:6},end:{line:103,column:7}},type:'if',locations:[{start:{line:84,column:6},end:{line:103,column:7}},{start:{line:84,column:6},end:{line:103,column:7}}],line:84},'8':{loc:{start:{line:90,column:10},end:{line:95,column:11}},type:'if',locations:[{start:{line:90,column:10},end:{line:95,column:11}},{start:{line:90,column:10},end:{line:95,column:11}}],line:90},'9':{loc:{start:{line:97,column:12},end:{line:97,column:38}},type:'if',locations:[{start:{line:97,column:12},end:{line:97,column:38}},{start:{line:97,column:12},end:{line:97,column:38}}],line:97},'10':{loc:{start:{line:115,column:2},end:{line:124,column:3}},type:'if',locations:[{start:{line:115,column:2},end:{line:124,column:3}},{start:{line:115,column:2},end:{line:124,column:3}}],line:115},'11':{loc:{start:{line:115,column:6},end:{line:116,column:58}},type:'binary-expr',locations:[{start:{line:115,column:6},end:{line:115,column:14}},{start:{line:115,column:18},end:{line:115,column:30}},{start:{line:115,column:34},end:{line:115,column:63}},{start:{line:116,column:4},end:{line:116,column:30}},{start:{line:116,column:34},end:{line:116,column:58}}],line:115},'12':{loc:{start:{line:129,column:2},end:{line:151,column:3}},type:'if',locations:[{start:{line:129,column:2},end:{line:151,column:3}},{start:{line:129,column:2},end:{line:151,column:3}}],line:129},'13':{loc:{start:{line:129,column:6},end:{line:129,column:42}},type:'binary-expr',locations:[{start:{line:129,column:6},end:{line:129,column:14}},{start:{line:129,column:18},end:{line:129,column:26}},{start:{line:129,column:30},end:{line:129,column:42}}],line:129},'14':{loc:{start:{line:131,column:4},end:{line:150,column:5}},type:'if',locations:[{start:{line:131,column:4},end:{line:150,column:5}},{start:{line:131,column:4},end:{line:150,column:5}}],line:131},'15':{loc:{start:{line:131,column:8},end:{line:131,column:80}},type:'binary-expr',locations:[{start:{line:131,column:8},end:{line:131,column:23}},{start:{line:131,column:27},end:{line:131,column:57}},{start:{line:131,column:61},end:{line:131,column:80}}],line:131},'16':{loc:{start:{line:139,column:10},end:{line:141,column:11}},type:'if',locations:[{start:{line:139,column:10},end:{line:141,column:11}},{start:{line:139,column:10},end:{line:141,column:11}}],line:139},'17':{loc:{start:{line:143,column:8},end:{line:148,column:9}},type:'if',locations:[{start:{line:143,column:8},end:{line:148,column:9}},{start:{line:143,column:8},end:{line:148,column:9}}],line:143},'18':{loc:{start:{line:171,column:12},end:{line:171,column:28}},type:'binary-expr',locations:[{start:{line:171,column:12},end:{line:171,column:20}},{start:{line:171,column:24},end:{line:171,column:28}}],line:171},'19':{loc:{start:{line:183,column:6},end:{line:183,column:32}},type:'if',locations:[{start:{line:183,column:6},end:{line:183,column:32}},{start:{line:183,column:6},end:{line:183,column:32}}],line:183},'20':{loc:{start:{line:184,column:6},end:{line:184,column:69}},type:'if',locations:[{start:{line:184,column:6},end:{line:184,column:69}},{start:{line:184,column:6},end:{line:184,column:69}}],line:184}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0,'28':0,'29':0,'30':0,'31':0,'32':0,'33':0,'34':0,'35':0,'36':0,'37':0,'38':0,'39':0,'40':0,'41':0,'42':0,'43':0,'44':0,'45':0,'46':0,'47':0,'48':0,'49':0,'50':0,'51':0,'52':0,'53':0,'54':0,'55':0,'56':0,'57':0,'58':0,'59':0,'60':0,'61':0,'62':0,'63':0,'64':0,'65':0,'66':0,'67':0,'68':0,'69':0,'70':0,'71':0,'72':0,'73':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0},b:{'0':[0,0],'1':[0,0],'2':[0,0],'3':[0,0],'4':[0,0],'5':[0,0],'6':[0,0,0],'7':[0,0],'8':[0,0],'9':[0,0],'10':[0,0],'11':[0,0,0,0,0],'12':[0,0],'13':[0,0,0],'14':[0,0],'15':[0,0,0],'16':[0,0],'17':[0,0],'18':[0,0],'19':[0,0],'20':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();/**
 * Module dependencies.
 */var mongoose=(cov_19ya2wxnro.s[0]++,require('mongoose')),User=(cov_19ya2wxnro.s[1]++,mongoose.model('User'));var avatars=(cov_19ya2wxnro.s[2]++,require('./avatars').all());/**
 * Auth callback
 */cov_19ya2wxnro.s[3]++;exports.authCallback=function(req,res,next){cov_19ya2wxnro.f[0]++;cov_19ya2wxnro.s[4]++;res.redirect('/chooseavatars');};/**
 * Show login form
 */cov_19ya2wxnro.s[5]++;exports.signin=function(req,res){cov_19ya2wxnro.f[1]++;cov_19ya2wxnro.s[6]++;if(!req.user){cov_19ya2wxnro.b[0][0]++;cov_19ya2wxnro.s[7]++;res.redirect('/#!/signin?error=invalid');}else{cov_19ya2wxnro.b[0][1]++;cov_19ya2wxnro.s[8]++;res.redirect('/#!/app');}};/**
 * Show sign up form
 */cov_19ya2wxnro.s[9]++;exports.signup=function(req,res){cov_19ya2wxnro.f[2]++;cov_19ya2wxnro.s[10]++;if(!req.user){cov_19ya2wxnro.b[1][0]++;cov_19ya2wxnro.s[11]++;res.redirect('/#!/signup');}else{cov_19ya2wxnro.b[1][1]++;cov_19ya2wxnro.s[12]++;res.redirect('/#!/app');}};/**
 * Logout
 */cov_19ya2wxnro.s[13]++;exports.signout=function(req,res){cov_19ya2wxnro.f[3]++;cov_19ya2wxnro.s[14]++;req.logout();cov_19ya2wxnro.s[15]++;res.redirect('/');};/**
 * Session
 */cov_19ya2wxnro.s[16]++;exports.session=function(req,res){cov_19ya2wxnro.f[4]++;cov_19ya2wxnro.s[17]++;res.redirect('/');};/** 
 * Check avatar - Confirm if the user who logged in via passport
 * already has an avatar. If they don't have one, redirect them
 * to our Choose an Avatar page.
 */cov_19ya2wxnro.s[18]++;exports.checkAvatar=function(req,res){cov_19ya2wxnro.f[5]++;cov_19ya2wxnro.s[19]++;if((cov_19ya2wxnro.b[3][0]++,req.user)&&(cov_19ya2wxnro.b[3][1]++,req.user._id)){cov_19ya2wxnro.b[2][0]++;cov_19ya2wxnro.s[20]++;User.findOne({_id:req.user._id}).exec(function(err,user){cov_19ya2wxnro.f[6]++;cov_19ya2wxnro.s[21]++;if(user.avatar!==undefined){cov_19ya2wxnro.b[4][0]++;cov_19ya2wxnro.s[22]++;res.redirect('/#!/');}else{cov_19ya2wxnro.b[4][1]++;cov_19ya2wxnro.s[23]++;res.redirect('/#!/choose-avatar');}});}else{cov_19ya2wxnro.b[2][1]++;cov_19ya2wxnro.s[24]++;// If user doesn't even exist, redirect to /
res.redirect('/');}};/**
 * Create user
 */cov_19ya2wxnro.s[25]++;exports.create=function(req,res){cov_19ya2wxnro.f[7]++;cov_19ya2wxnro.s[26]++;if((cov_19ya2wxnro.b[6][0]++,req.body.name)&&(cov_19ya2wxnro.b[6][1]++,req.body.password)&&(cov_19ya2wxnro.b[6][2]++,req.body.email)){cov_19ya2wxnro.b[5][0]++;cov_19ya2wxnro.s[27]++;User.findOne({email:req.body.email}).exec(function(err,existingUser){cov_19ya2wxnro.f[8]++;cov_19ya2wxnro.s[28]++;if(!existingUser){cov_19ya2wxnro.b[7][0]++;var user=(cov_19ya2wxnro.s[29]++,new User(req.body));// Switch the user's avatar index to an actual avatar url
cov_19ya2wxnro.s[30]++;user.avatar=avatars[user.avatar];cov_19ya2wxnro.s[31]++;user.provider='local';cov_19ya2wxnro.s[32]++;user.save(function(err){cov_19ya2wxnro.f[9]++;cov_19ya2wxnro.s[33]++;if(err){cov_19ya2wxnro.b[8][0]++;cov_19ya2wxnro.s[34]++;return res.render('/#!/signup?error=unknown',{errors:err.errors,user:user});}else{cov_19ya2wxnro.b[8][1]++;}cov_19ya2wxnro.s[35]++;req.logIn(user,function(err){cov_19ya2wxnro.f[10]++;cov_19ya2wxnro.s[36]++;if(err){cov_19ya2wxnro.b[9][0]++;cov_19ya2wxnro.s[37]++;return next(err);}else{cov_19ya2wxnro.b[9][1]++;}cov_19ya2wxnro.s[38]++;return res.redirect('/#!/');});});}else{cov_19ya2wxnro.b[7][1]++;cov_19ya2wxnro.s[39]++;return res.redirect('/#!/signup?error=existinguser');}});}else{cov_19ya2wxnro.b[5][1]++;cov_19ya2wxnro.s[40]++;return res.redirect('/#!/signup?error=incomplete');}};/**
 * Assign avatar to user
 */cov_19ya2wxnro.s[41]++;exports.avatars=function(req,res){cov_19ya2wxnro.f[11]++;cov_19ya2wxnro.s[42]++;// Update the current user's profile to include the avatar choice they've made
if((cov_19ya2wxnro.b[11][0]++,req.user)&&(cov_19ya2wxnro.b[11][1]++,req.user._id)&&(cov_19ya2wxnro.b[11][2]++,req.body.avatar!==undefined)&&(cov_19ya2wxnro.b[11][3]++,/\d/.test(req.body.avatar))&&(cov_19ya2wxnro.b[11][4]++,avatars[req.body.avatar])){cov_19ya2wxnro.b[10][0]++;cov_19ya2wxnro.s[43]++;User.findOne({_id:req.user._id}).exec(function(err,user){cov_19ya2wxnro.f[12]++;cov_19ya2wxnro.s[44]++;user.avatar=avatars[req.body.avatar];cov_19ya2wxnro.s[45]++;user.save();});}else{cov_19ya2wxnro.b[10][1]++;}cov_19ya2wxnro.s[46]++;return res.redirect('/#!/app');};cov_19ya2wxnro.s[47]++;exports.addDonation=function(req,res){cov_19ya2wxnro.f[13]++;cov_19ya2wxnro.s[48]++;if((cov_19ya2wxnro.b[13][0]++,req.body)&&(cov_19ya2wxnro.b[13][1]++,req.user)&&(cov_19ya2wxnro.b[13][2]++,req.user._id)){cov_19ya2wxnro.b[12][0]++;cov_19ya2wxnro.s[49]++;// Verify that the object contains crowdrise data
if((cov_19ya2wxnro.b[15][0]++,req.body.amount)&&(cov_19ya2wxnro.b[15][1]++,req.body.crowdrise_donation_id)&&(cov_19ya2wxnro.b[15][2]++,req.body.donor_name)){cov_19ya2wxnro.b[14][0]++;cov_19ya2wxnro.s[50]++;User.findOne({_id:req.user._id}).exec(function(err,user){cov_19ya2wxnro.f[14]++;// Confirm that this object hasn't already been entered
var duplicate=(cov_19ya2wxnro.s[51]++,false);cov_19ya2wxnro.s[52]++;for(var i=0;i<user.donations.length;i++){cov_19ya2wxnro.s[53]++;if(user.donations[i].crowdrise_donation_id===req.body.crowdrise_donation_id){cov_19ya2wxnro.b[16][0]++;cov_19ya2wxnro.s[54]++;duplicate=true;}else{cov_19ya2wxnro.b[16][1]++;}}cov_19ya2wxnro.s[55]++;if(!duplicate){cov_19ya2wxnro.b[17][0]++;cov_19ya2wxnro.s[56]++;console.log('Validated donation');cov_19ya2wxnro.s[57]++;user.donations.push(req.body);cov_19ya2wxnro.s[58]++;user.premium=1;cov_19ya2wxnro.s[59]++;user.save();}else{cov_19ya2wxnro.b[17][1]++;}});}else{cov_19ya2wxnro.b[14][1]++;}}else{cov_19ya2wxnro.b[12][1]++;}cov_19ya2wxnro.s[60]++;res.send();};/**
 *  Show profile
 */cov_19ya2wxnro.s[61]++;exports.show=function(req,res){cov_19ya2wxnro.f[15]++;var user=(cov_19ya2wxnro.s[62]++,req.profile);cov_19ya2wxnro.s[63]++;res.render('users/show',{title:user.name,user:user});};/**
 * Send User
 */cov_19ya2wxnro.s[64]++;exports.me=function(req,res){cov_19ya2wxnro.f[16]++;cov_19ya2wxnro.s[65]++;res.jsonp((cov_19ya2wxnro.b[18][0]++,req.user)||(cov_19ya2wxnro.b[18][1]++,null));};/**
 * Find user by id
 */cov_19ya2wxnro.s[66]++;exports.user=function(req,res,next,id){cov_19ya2wxnro.f[17]++;cov_19ya2wxnro.s[67]++;User.findOne({_id:id}).exec(function(err,user){cov_19ya2wxnro.f[18]++;cov_19ya2wxnro.s[68]++;if(err){cov_19ya2wxnro.b[19][0]++;cov_19ya2wxnro.s[69]++;return next(err);}else{cov_19ya2wxnro.b[19][1]++;}cov_19ya2wxnro.s[70]++;if(!user){cov_19ya2wxnro.b[20][0]++;cov_19ya2wxnro.s[71]++;return next(new Error('Failed to load User '+id));}else{cov_19ya2wxnro.b[20][1]++;}cov_19ya2wxnro.s[72]++;req.profile=user;cov_19ya2wxnro.s[73]++;next();});};